<ng-container>
  <div class="searchbar">
    <mat-form-field appearance="outline">
      <mat-icon matPrefix>search</mat-icon>
      <input id="custom-search" matInput [formControl]="name" type="search" placeholder="Search by name...">
    </mat-form-field>
    <button mat-stroked-button color="primary" (click)="showFilters = !showFilters" class="filters-toggle">
      <mat-icon>filter_list</mat-icon>
      Filter
    </button>
  </div>
  <div class="filters" [style.display]="!showFilters ? 'none' : ''">
    <mat-form-field appearance="outline">
      <mat-label>Date Range</mat-label>
      <mat-date-range-input (click)="rangePicker.open()" [rangePicker]="rangePicker">
        <input #startDate (dateInput)="filtersDate['startDate'] = $event.value" matStartDate
               readonly>
        <input #endDate (dateInput)="filtersDate['endDate'] = $event.value" matEndDate readonly>
      </mat-date-range-input>
      <mat-datepicker-toggle matSuffix [for]="rangePicker"></mat-datepicker-toggle>
      <mat-date-range-picker #rangePicker>
        <mat-date-range-picker-actions>
          <button mat-button matDateRangePickerCancel (click)="clearDateFilter()">Clear range</button>
          <button mat-raised-button color="primary" matDateRangePickerApply (click)="search()">
            Apply
          </button>
        </mat-date-range-picker-actions>
      </mat-date-range-picker>
    </mat-form-field>

    <button mat-button color="warn" (click)="clearAllFilters()">Clear Filters</button>

  </div>
  <safe-infinite-scroll-wrapper
    [noMoreData]="noMoreData"
    [loadMoreData]="loadMoreData"
    (checkScroll)="onCheckScroll()"
  >
    <app-resources-table
      infinite-scroll-child
      [loading]="loading"
      [loadMoreData]="loadMoreData"
      [noMoreData]="noMoreData"
      [dataSource]="dataSource"
      (sortTable)="sortData($event)"
      (delete)="onDelete($event)"
    >
    </app-resources-table>
  </safe-infinite-scroll-wrapper>
</ng-container>
