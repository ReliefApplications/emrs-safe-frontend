<h1 mat-dialog-title>Invite user</h1>
<div mat-dialog-content>
    <form [formGroup]="inviteForm">
        <div class="form-group">
            <label class="invite-label">Select an existing one, or invite a new one</label>
            <mat-form-field>
                <input type="text"
                       placeholder="Email"
                       aria-label="Email"
                       matInput
                       formControlName="email"
                       [matAutocomplete]="auto">
                <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                  <mat-option *ngFor="let user of filteredUsers | async" [value]="user.username">
                    {{user.username}}
                  </mat-option>
                </mat-autocomplete>
                <button mat-button *ngIf="email" matSuffix mat-icon-button aria-label="Clear" (click)="email=''">
                    <mat-icon>close</mat-icon>
                </button>
            </mat-form-field>
            <label class="invite-label">Select the role to assign</label>
            <mat-form-field appearance="outline">
                <mat-label>Role</mat-label>
                <mat-select formControlName="role">
                    <mat-option *ngFor="let role of data.roles" [value]="role.id">{{ role.title }}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </form>
</div>
<div mat-dialog-actions align="end">
    <button mat-button (click)="onClose()">Close</button>
    <button mat-button [mat-dialog-close]="inviteForm.value" color="primary" [disabled]="!inviteForm.valid">Invite</button>
</div>